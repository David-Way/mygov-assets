/**
 * Mixin for retina-ready images.
 * Retrieved from Signal vs Noise at:
 * https://signalvnoise.com/posts/3271-easy-retina-ready-images-using-scss
 *
 * Example usage:
 *     div.logo {
 *         background: url("logo.png") no-repeat;
 *         @include image-2x("logo2x.png", 100px, 25px);
 *     }
 */
@mixin image-2x($image, $width, $height) {
    @media (min--moz-device-pixel-ratio: 1.3),
    (-o-min-device-pixel-ratio: 2.6/2),
    (-webkit-min-device-pixel-ratio: 1.3),
    (min-device-pixel-ratio: 1.3),
    (min-resolution: 1.3dppx) {
        /* on retina, use image that's scaled by 2 */
        background-image: url($image);
        background-size: $width $height;
    }
}

/**
 * Function to convert an image path into a path to the retina version of the image
 * @param {string} $path - image path
 * @param {string} [$suffix=_@2x] - the suffix used my our naming convention to denote a retina image
 * @param {string} [$extension=.png] - the image's full extension including the period (.)
 */
@function get2xImage($path, $suffix:'_@2x', $extension:'.png') {
    $index: str-index($path, $extension);
    $pathString: str-slice($path, 0, ($index - 1));

    @return $pathString + $suffix + $extension;
}
